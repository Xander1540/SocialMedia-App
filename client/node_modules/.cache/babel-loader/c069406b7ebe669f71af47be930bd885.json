{"ast":null,"code":"var _jsxFileName = \"C:\\\\Projects\\\\SocialMediaApp\\\\client\\\\src\\\\App.js\";\nimport './App.css';\nimport React from 'react';\nimport { BrowserRouter as Router, Routes, Route, Link } from \"react-router-dom\";\nimport Home from './Pages/Home';\nimport CreatePost from \"./Pages/CreatePost\";\nimport Post from \"./Pages/Post\";\nimport Registration from \"./Pages/Registeration\";\nimport Login from './Pages/Login';\nimport { AuthContext } from './helpers/AuthContext';\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\nfunction App() {\n  const [authState, setAuthState] = useState({\n    username: \"\",\n    id: 0,\n    status: false\n  });\n  useEffect(() => {\n    axios.get('http://localhost:3001/auth/auth', {\n      headers: {\n        accessToken: localStorage.getItem(\"accessToken\")\n      }\n    }).then(response => {\n      if (response.data.error) {\n        setAuthState({\n          ...authState,\n          status: false\n        });\n      } else {\n        setAuthState({\n          username: response.data.username,\n          id: response.data.id,\n          status: true\n        });\n      }\n    });\n  });\n  const logout = () => {\n    localStorage.removeItem(\"accessToken\");\n    setAuthState({\n      username: \"\",\n      id: 0,\n      status: false\n    });\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(AuthContext.Provider, {\n    value: {\n      authState,\n      setAuthState\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Router, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"navbar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"links\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, \"Home Page\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/createpost\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, \"Create Post \"), !authState.status && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Link, {\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, \"Login \"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/registration\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, \"Register \"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loggedInContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, authState.username, \" \"), authState.status && /*#__PURE__*/React.createElement(\"button\", {\n    onClick: logout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 32\n    }\n  }, \" Logout\"))), /*#__PURE__*/React.createElement(Routes, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    path: \"/\",\n    element: /*#__PURE__*/React.createElement(Home, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 34\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/createpost\",\n    element: /*#__PURE__*/React.createElement(CreatePost, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 44\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/post/:id\",\n    element: /*#__PURE__*/React.createElement(Post, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 42\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/registration\",\n    element: /*#__PURE__*/React.createElement(Registration, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 46\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/login\",\n    element: /*#__PURE__*/React.createElement(Login, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 39\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  })))));\n}\nexport default App;","map":{"version":3,"names":["React","BrowserRouter","Router","Routes","Route","Link","Home","CreatePost","Post","Registration","Login","AuthContext","useEffect","useState","axios","App","authState","setAuthState","username","id","status","get","headers","accessToken","localStorage","getItem","then","response","data","error","logout","removeItem","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Provider","value","to","Fragment","onClick","path","element"],"sources":["C:/Projects/SocialMediaApp/client/src/App.js"],"sourcesContent":["\nimport './App.css';\nimport React from 'react'\nimport {BrowserRouter as Router, Routes, Route, Link} from \"react-router-dom\";\nimport Home from './Pages/Home';\nimport CreatePost from \"./Pages/CreatePost\";\nimport Post from \"./Pages/Post\";\nimport Registration from \"./Pages/Registeration\"\nimport Login from './Pages/Login';\nimport {AuthContext} from './helpers/AuthContext';\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\n\nfunction App() {\n  const [authState, setAuthState]=  useState({\n    username: \"\",\n    id: 0,\n    status: false,\n  });\n\n  useEffect(()=>{\n    axios.get('http://localhost:3001/auth/auth', {\n      headers: {\n        accessToken: localStorage.getItem(\"accessToken\"),\n      },\n    })\n      .then((response)=>{\n       if (response.data.error){\n        setAuthState({ ...authState, status: false });\n       }else{\n        setAuthState({\n          username: response.data.username,\n          id: response.data.id,\n          status: true,\n        });\n        }\n    });\n  });\n\n  const logout = () =>{\n    localStorage.removeItem(\"accessToken\");\n    setAuthState({ username: \"\", id: 0, status: false });\n  };\n\n  return (\n  <div className=\"App\">\n    <AuthContext.Provider value={{authState, setAuthState}}>\n    <Router>\n      <div className='navbar'>\n        <div className='links'>\n        <Link to=\"/\">Home Page</Link>\n        <Link to=\"/createpost\">Create Post </Link>\n        {!authState.status && (\n        <>\n        <Link to=\"/login\">Login </Link>\n        <Link to=\"/registration\">Register </Link>\n        </>\n        )}\n      </div>\n          <div className=\"loggedInContainer\">\n          <h1>{authState.username} </h1>\n          {authState.status && <button onClick={logout}> Logout</button>}\n          </div>\n      </div>\n\n      <Routes>\n        <Route path=\"/\" element={<Home />} />\n        <Route path=\"/createpost\" element={<CreatePost />} />\n        <Route path=\"/post/:id\" element={<Post/>} />\n        <Route path=\"/registration\" element={<Registration/>} />\n        <Route path=\"/login\" element={<Login/>} />\n      </Routes>\n    </Router>\n    </AuthContext.Provider>\n  </div>\n  );\n}\n\nexport default App;\n"],"mappings":";AACA,OAAO,WAAW;AAClB,OAAOA,KAAK,MAAM,OAAO;AACzB,SAAQC,aAAa,IAAIC,MAAM,EAAEC,MAAM,EAAEC,KAAK,EAAEC,IAAI,QAAO,kBAAkB;AAC7E,OAAOC,IAAI,MAAM,cAAc;AAC/B,OAAOC,UAAU,MAAM,oBAAoB;AAC3C,OAAOC,IAAI,MAAM,cAAc;AAC/B,OAAOC,YAAY,MAAM,uBAAuB;AAChD,OAAOC,KAAK,MAAM,eAAe;AACjC,SAAQC,WAAW,QAAO,uBAAuB;AACjD,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,KAAK,MAAM,OAAO;AAEzB,SAASC,GAAGA,CAAA,EAAG;EACb,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGJ,QAAQ,CAAC;IACzCK,QAAQ,EAAE,EAAE;IACZC,EAAE,EAAE,CAAC;IACLC,MAAM,EAAE;EACV,CAAC,CAAC;EAEFR,SAAS,CAAC,MAAI;IACZE,KAAK,CAACO,GAAG,CAAC,iCAAiC,EAAE;MAC3CC,OAAO,EAAE;QACPC,WAAW,EAAEC,YAAY,CAACC,OAAO,CAAC,aAAa;MACjD;IACF,CAAC,CAAC,CACCC,IAAI,CAAEC,QAAQ,IAAG;MACjB,IAAIA,QAAQ,CAACC,IAAI,CAACC,KAAK,EAAC;QACvBZ,YAAY,CAAC;UAAE,GAAGD,SAAS;UAAEI,MAAM,EAAE;QAAM,CAAC,CAAC;MAC9C,CAAC,MAAI;QACJH,YAAY,CAAC;UACXC,QAAQ,EAAES,QAAQ,CAACC,IAAI,CAACV,QAAQ;UAChCC,EAAE,EAAEQ,QAAQ,CAACC,IAAI,CAACT,EAAE;UACpBC,MAAM,EAAE;QACV,CAAC,CAAC;MACF;IACJ,CAAC,CAAC;EACJ,CAAC,CAAC;EAEF,MAAMU,MAAM,GAAGA,CAAA,KAAK;IAClBN,YAAY,CAACO,UAAU,CAAC,aAAa,CAAC;IACtCd,YAAY,CAAC;MAAEC,QAAQ,EAAE,EAAE;MAAEC,EAAE,EAAE,CAAC;MAAEC,MAAM,EAAE;IAAM,CAAC,CAAC;EACtD,CAAC;EAED,oBACApB,KAAA,CAAAgC,aAAA;IAAKC,SAAS,EAAC,KAAK;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAClBvC,KAAA,CAAAgC,aAAA,CAACrB,WAAW,CAAC6B,QAAQ;IAACC,KAAK,EAAE;MAACzB,SAAS;MAAEC;IAAY,CAAE;IAAAiB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACvDvC,KAAA,CAAAgC,aAAA,CAAC9B,MAAM;IAAAgC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACLvC,KAAA,CAAAgC,aAAA;IAAKC,SAAS,EAAC,QAAQ;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACrBvC,KAAA,CAAAgC,aAAA;IAAKC,SAAS,EAAC,OAAO;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACtBvC,KAAA,CAAAgC,aAAA,CAAC3B,IAAI;IAACqC,EAAE,EAAC,GAAG;IAAAR,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,WAAe,CAAC,eAC7BvC,KAAA,CAAAgC,aAAA,CAAC3B,IAAI;IAACqC,EAAE,EAAC,aAAa;IAAAR,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,cAAkB,CAAC,EACzC,CAACvB,SAAS,CAACI,MAAM,iBAClBpB,KAAA,CAAAgC,aAAA,CAAAhC,KAAA,CAAA2C,QAAA,qBACA3C,KAAA,CAAAgC,aAAA,CAAC3B,IAAI;IAACqC,EAAE,EAAC,QAAQ;IAAAR,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,QAAY,CAAC,eAC/BvC,KAAA,CAAAgC,aAAA,CAAC3B,IAAI;IAACqC,EAAE,EAAC,eAAe;IAAAR,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,WAAe,CACtC,CAEC,CAAC,eACFvC,KAAA,CAAAgC,aAAA;IAAKC,SAAS,EAAC,mBAAmB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAClCvC,KAAA,CAAAgC,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAKvB,SAAS,CAACE,QAAQ,EAAC,GAAK,CAAC,EAC7BF,SAAS,CAACI,MAAM,iBAAIpB,KAAA,CAAAgC,aAAA;IAAQY,OAAO,EAAEd,MAAO;IAAAI,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,SAAe,CACxD,CACJ,CAAC,eAENvC,KAAA,CAAAgC,aAAA,CAAC7B,MAAM;IAAA+B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACLvC,KAAA,CAAAgC,aAAA,CAAC5B,KAAK;IAACyC,IAAI,EAAC,GAAG;IAACC,OAAO,eAAE9C,KAAA,CAAAgC,aAAA,CAAC1B,IAAI;MAAA4B,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CAAE;IAAAL,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eACrCvC,KAAA,CAAAgC,aAAA,CAAC5B,KAAK;IAACyC,IAAI,EAAC,aAAa;IAACC,OAAO,eAAE9C,KAAA,CAAAgC,aAAA,CAACzB,UAAU;MAAA2B,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAE,CAAE;IAAAL,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eACrDvC,KAAA,CAAAgC,aAAA,CAAC5B,KAAK;IAACyC,IAAI,EAAC,WAAW;IAACC,OAAO,eAAE9C,KAAA,CAAAgC,aAAA,CAACxB,IAAI;MAAA0B,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAC,CAAE;IAAAL,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eAC5CvC,KAAA,CAAAgC,aAAA,CAAC5B,KAAK;IAACyC,IAAI,EAAC,eAAe;IAACC,OAAO,eAAE9C,KAAA,CAAAgC,aAAA,CAACvB,YAAY;MAAAyB,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAC,CAAE;IAAAL,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eACxDvC,KAAA,CAAAgC,aAAA,CAAC5B,KAAK;IAACyC,IAAI,EAAC,QAAQ;IAACC,OAAO,eAAE9C,KAAA,CAAAgC,aAAA,CAACtB,KAAK;MAAAwB,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,CAAC,CAAE;IAAAL,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CACnC,CACF,CACc,CACnB,CAAC;AAER;AAEA,eAAexB,GAAG"},"metadata":{},"sourceType":"module"}